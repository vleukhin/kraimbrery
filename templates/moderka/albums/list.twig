{% extends "moderka/layout.twig" %}
{% block title %}Альбомы{% endblock %}
{% block albums %}active{% endblock %}

{% block content %}
    <h1>Альбомы</h1>
    <hr>
    <form action="/moderka/albums/create" method="post">
        <div class="form-group row">
            <div class="col-md-3">
                <label for="name">Название</label>
                <input type="text" class="form-control" name="name" value="" id="name" required>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-sm-12">
                <button type="submit" class="btn btn-primary">Добавить</button>
            </div>
        </div>
    </form>
    <hr>
    <table class="table">
        <tr>
            <th>ID</th>
            <th>Название</th>
            <th>Кол-во фото</th>
            <th>Действия</th>
        </tr>
        {% for album in albums %}
            <tr>
                <td>{{ album.id }}</td>
                <td>{{ album.name }}</td>
                <td>{{ album.photos|length }}</td>
                <td>
                    <form action="/moderka/albums/{{ album.id }}/delete" method="post">
                        <a class="btn btn-primary" href="/moderka/albums/{{ album.id }}/edit"> <i class="fa fa-edit"></i></a>
                        <button class="btn btn-danger" onclick="return confirm('Вы уверены, что хотите удалить альбом?')"><i class="fa fa-trash"></i></button>
                    </form>
                </td>
            </tr>
        {% endfor %}
    </table>
{% endblock %}

